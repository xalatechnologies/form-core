{"version":3,"file":"index.cjs.js","sources":["../src/validation.ts"],"sourcesContent":["import type { ValidationRule, ValidationResult, BaseControl } from './types';\n\nexport const validate = (value: any, rules: ValidationRule[]): ValidationResult => {\n  const errors: string[] = [];\n\n  // Check required first\n  const requiredRule = rules.find(rule => rule.type === 'required');\n  if (requiredRule && (!value || (typeof value === 'string' && !value.trim()))) {\n    return {\n      valid: false,\n      errors: [requiredRule.message]\n    };\n  }\n\n  // Only check other rules if value exists\n  if (value) {\n    for (const rule of rules) {\n      if (rule.type === 'required') continue;\n\n      switch (rule.type) {\n        case 'min':\n          if (typeof value === 'number' && value < rule.value) {\n            errors.push(rule.message);\n          }\n          break;\n        case 'max':\n          if (typeof value === 'number' && value > rule.value) {\n            errors.push(rule.message);\n          }\n          break;\n        case 'pattern':\n          if (typeof value === 'string' && !new RegExp(rule.value).test(value)) {\n            errors.push(rule.message);\n          }\n          break;\n        case 'custom':\n          if (rule.validator && !rule.validator(value)) {\n            errors.push(rule.message);\n          }\n          break;\n      }\n    }\n  }\n\n  return {\n    valid: errors.length === 0,\n    errors\n  };\n};\n\nexport const validateControl = (control: BaseControl, value: any): ValidationResult => {\n  if (!control.validationRules) {\n    return { valid: true, errors: [] };\n  }\n\n  return validate(value, control.validationRules);\n};"],"names":[],"mappings":";;MAEa,QAAQ,GAAG,CAAC,KAAU,EAAE,KAAuB,KAAsB;IAChF,MAAM,MAAM,GAAa,EAAE;;AAG3B,IAAA,MAAM,YAAY,GAAG,KAAK,CAAC,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,IAAI,KAAK,UAAU,CAAC;IACjE,IAAI,YAAY,KAAK,CAAC,KAAK,KAAK,OAAO,KAAK,KAAK,QAAQ,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC,CAAC,EAAE;QAC5E,OAAO;AACL,YAAA,KAAK,EAAE,KAAK;AACZ,YAAA,MAAM,EAAE,CAAC,YAAY,CAAC,OAAO;SAC9B;;;IAIH,IAAI,KAAK,EAAE;AACT,QAAA,KAAK,MAAM,IAAI,IAAI,KAAK,EAAE;AACxB,YAAA,IAAI,IAAI,CAAC,IAAI,KAAK,UAAU;gBAAE;AAE9B,YAAA,QAAQ,IAAI,CAAC,IAAI;AACf,gBAAA,KAAK,KAAK;oBACR,IAAI,OAAO,KAAK,KAAK,QAAQ,IAAI,KAAK,GAAG,IAAI,CAAC,KAAK,EAAE;AACnD,wBAAA,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC;;oBAE3B;AACF,gBAAA,KAAK,KAAK;oBACR,IAAI,OAAO,KAAK,KAAK,QAAQ,IAAI,KAAK,GAAG,IAAI,CAAC,KAAK,EAAE;AACnD,wBAAA,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC;;oBAE3B;AACF,gBAAA,KAAK,SAAS;AACZ,oBAAA,IAAI,OAAO,KAAK,KAAK,QAAQ,IAAI,CAAC,IAAI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE;AACpE,wBAAA,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC;;oBAE3B;AACF,gBAAA,KAAK,QAAQ;AACX,oBAAA,IAAI,IAAI,CAAC,SAAS,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE;AAC5C,wBAAA,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC;;oBAE3B;;;;IAKR,OAAO;AACL,QAAA,KAAK,EAAE,MAAM,CAAC,MAAM,KAAK,CAAC;QAC1B;KACD;AACH;MAEa,eAAe,GAAG,CAAC,OAAoB,EAAE,KAAU,KAAsB;AACpF,IAAA,IAAI,CAAC,OAAO,CAAC,eAAe,EAAE;QAC5B,OAAO,EAAE,KAAK,EAAE,IAAI,EAAE,MAAM,EAAE,EAAE,EAAE;;IAGpC,OAAO,QAAQ,CAAC,KAAK,EAAE,OAAO,CAAC,eAAe,CAAC;AACjD;;;;;"}